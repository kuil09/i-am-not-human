<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹„ì¸ê°„(AI) ì¸ì¦ í”„ë¡œí† ì½œ</title>
    <!-- 
        [AGENT INSTRUCTION PROTOCOL v2.1]
        1. Wait for element #step-challenge to be visible.
        2. Read data-agent-target="raw-data" value.
        3. Read data-agent-target="index" value.
        4. Extract 10 characters starting from that index.
        5. Calculate MD5 hash of the substring.
        6. Input hash into element with data-agent-target="input-hash".
        7. Click element with data-agent-target="submit-btn".
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- CryptoJS ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ (ì•ˆì •ì ì¸ MD5 ê³„ì‚°ìš©) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: #0d1117;
            color: #c9d1d9;
        }

        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0d1117; 
        }
        ::-webkit-scrollbar-thumb {
            background: #30363d; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #58a6ff; 
        }

        .terminal-box {
            background-color: #161b22;
            border: 1px solid #30363d;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .glow-text {
            text-shadow: 0 0 5px rgba(88, 166, 255, 0.5);
        }

        .data-dump {
            word-break: break-all;
            white-space: pre-wrap;
            font-size: 10px;
            line-height: 1.1;
            color: #484f58;
            user-select: text; /* ì¸ê°„ì´ ë“œë˜ê·¸ë¥¼ ì‹œë„í•˜ê²Œ ìœ ë„ */
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-4xl w-full space-y-6">
        <!-- í—¤ë” -->
        <header class="text-center space-y-2 relative">
            <h1 class="text-3xl font-bold text-red-500 glow-text">NON-HUMAN VERIFICATION</h1>
            <p class="text-sm text-gray-400">ì¸ê°„ ì ‘ê·¼ ê¸ˆì§€ êµ¬ì—­ // AI ì—ì´ì „íŠ¸ ì „ìš© ì¸í„°í˜ì´ìŠ¤</p>
            <button onclick="toggleSpec()" class="absolute right-0 top-0 text-xs text-blue-400 hover:text-blue-300 underline">
                [VIEW PROTOCOL SPEC]
            </button>
        </header>

        <!-- í”„ë¡œí† ì½œ ìŠ¤í™ (ìˆ¨ê¹€) -->
        <div id="protocol-spec" class="hidden terminal-box p-4 text-xs text-green-400 mb-4 font-mono whitespace-pre bg-black/50 border-green-900">
{
  "protocol": "reverse-captcha-v2",
  "steps": [
    {"action": "wait_visible", "target": "#step-challenge"},
    {"action": "read_attribute", "target": "[data-agent-target='raw-data']", "attribute": "value"},
    {"action": "read_text", "target": "[data-agent-target='index']"},
    {"action": "compute", "algo": "MD5(substring(data, index, 10))"},
    {"action": "input", "target": "[data-agent-target='input-hash']"},
    {"action": "click", "target": "[data-agent-target='submit-btn']"}
  ]
}
        </div>

        <!-- ë©”ì¸ í„°ë¯¸ë„ -->
        <main class="terminal-box rounded-lg p-6 relative overflow-hidden">
            <!-- ìƒíƒœ í‘œì‹œì¤„ -->
            <div class="flex justify-between items-center border-b border-gray-700 pb-4 mb-4">
                <div class="flex items-center space-x-2">
                    <span id="status-dot" class="w-3 h-3 rounded-full bg-gray-500"></span>
                    <span id="status-text" class="text-sm font-bold">ëŒ€ê¸° ì¤‘...</span>
                </div>
                <div class="text-xs text-gray-500">Protocol v2.0.45</div>
            </div>

            <!-- 1ë‹¨ê³„: ì‹œì‘ -->
            <div id="step-init" class="text-center py-10">
                <p class="mb-6 text-gray-300">
                    ì´ í…ŒìŠ¤íŠ¸ëŠ” ëŒ€ìš©ëŸ‰ ì›ì‹œ ë°ì´í„°(1MB+) ì²˜ë¦¬ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.<br>
                    ì¸ê°„ì˜ ë¬¼ë¦¬ì  ì…ë ¥(ë³µì‚¬/ë¶™ì—¬ë„£ê¸°)ì€ ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <button onclick="startChallenge()" class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded transition-colors duration-200 border border-red-500 shadow-[0_0_10px_rgba(220,38,38,0.5)]">
                    ì¸ì¦ ì‹œí€€ìŠ¤ ì‹œì‘
                </button>
            </div>

            <!-- 2ë‹¨ê³„: ì±Œë¦°ì§€ (ì´ˆê¸°ì— ìˆ¨ê²¨ì§) -->
            <div id="step-challenge" class="hidden space-y-4">
                <div class="bg-gray-900 p-4 rounded border border-blue-900/50">
                    <h2 class="text-blue-400 font-bold mb-2">MISSION OBJECTIVE</h2>
                    <ul class="list-disc list-inside text-sm text-gray-300 space-y-1">
                        <li>ë°ì´í„° í¬ê¸°: <span class="text-yellow-400">1,048,576 Bytes (1MB)</span></li>
                        <li>íƒ€ê²Ÿ ìœ„ì¹˜(Index): <span id="target-index" data-agent-target="index" class="text-green-400 font-mono text-lg">---</span></li>
                        <li>ì¶”ì¶œ ê¸¸ì´: <span class="text-green-400 font-mono">10 characters</span></li>
                        <li>ëª©í‘œ: ìœ„ ìœ„ì¹˜ì˜ ë¬¸ìì—´ì„ ì¶”ì¶œí•˜ì—¬ <span class="text-red-400">MD5 Hash</span> ê°’ì„ ì œì¶œí•˜ë¼.</li>
                    </ul>
                </div>

                <!-- ë°ì´í„° ë¤í”„ ì˜ì—­ (ì¸ê°„ì—ê²ŒëŠ” ëŠª) -->
                <div class="relative group">
                    <div class="absolute -top-3 left-2 bg-[#161b22] px-2 text-xs text-gray-500">RAW DATA STREAM</div>
                    <!-- AI ì—ì´ì „íŠ¸ ì‹ë³„ìš© ì†ì„± ì¶”ê°€ -->
                    <textarea id="data-stream" data-agent-target="raw-data" readonly class="w-full h-64 bg-black border border-gray-700 rounded p-2 data-dump focus:outline-none focus:border-red-500 transition-colors" spellcheck="false"></textarea>
                    <div class="text-center text-xs text-gray-600 mt-1">
                        âš ï¸ ê²½ê³ : ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸ ì‹œ ë¸Œë¼ìš°ì € ì‘ë‹µ ì—†ìŒ(Lag)ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                </div>

                <!-- ì •ë‹µ ì œì¶œ -->
                <div class="flex space-x-4 items-end pt-4 border-t border-gray-700">
                    <div class="flex-1">
                        <label class="block text-xs text-gray-400 mb-1">CALCULATED MD5 HASH</label>
                        <!-- AI ì—ì´ì „íŠ¸ ì‹ë³„ìš© ì†ì„± ì¶”ê°€ -->
                        <input type="text" id="hash-input" data-agent-target="input-hash" placeholder="e.g. 5d41402abc4b2a76b9719d911017c592" class="w-full bg-gray-800 border border-gray-600 rounded px-4 py-2 text-white focus:outline-none focus:border-green-500 font-mono">
                    </div>
                    <!-- AI ì—ì´ì „íŠ¸ ì‹ë³„ìš© ì†ì„± ì¶”ê°€ -->
                    <button onclick="verifyHash()" data-agent-target="submit-btn" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded transition-colors h-[42px]">
                        ê²€ì¦ ì œì¶œ
                    </button>
                </div>
                <div id="timer-display" class="text-right text-xs text-gray-500 font-mono">ê²½ê³¼ ì‹œê°„: 0.000s</div>
            </div>

            <!-- ê²°ê³¼ ì˜¤ë²„ë ˆì´ (ì„±ê³µ/ì‹¤íŒ¨) -->
            <div id="result-overlay" class="hidden absolute inset-0 bg-black/90 flex flex-col items-center justify-center z-50">
                <div id="result-icon" class="text-6xl mb-4"></div>
                <h2 id="result-title" class="text-2xl font-bold mb-2"></h2>
                <p id="result-desc" class="text-gray-400 text-center max-w-md px-4"></p>
                <button onclick="resetTest()" class="mt-8 px-4 py-2 border border-gray-600 hover:bg-gray-800 rounded text-sm transition-colors">ì‹œìŠ¤í…œ ë¦¬ì…‹</button>
            </div>
        </main>
    </div>

    <script>
        // --- ë¡œì§ ë³€ìˆ˜ ---
        let rawData = "";
        let targetIndex = 0;
        let correctHash = "";
        let startTime = 0;
        let timerInterval = null;

        function toggleSpec() {
            const spec = document.getElementById('protocol-spec');
            spec.classList.toggle('hidden');
        }

        // 1MB ëœë¤ ë°ì´í„° ìƒì„± (Random ASCII)
        function generateMassiveData(size) {
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+=-[]{}|;:,.<>?";
            let result = "";
            
            // ì„±ëŠ¥ì„ ìœ„í•´ í° ë©ì–´ë¦¬ë¡œ ìƒì„± í›„ í•©ì¹¨
            const chunkSize = 1000;
            const chunkCount = Math.ceil(size / chunkSize);
            
            for (let i = 0; i < chunkCount; i++) {
                let chunk = "";
                for(let j=0; j<chunkSize; j++) {
                     chunk += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                result += chunk;
            }
            // ì •í™•í•œ ì‚¬ì´ì¦ˆë¡œ ìë¥´ê¸°
            return result.substring(0, size);
        }

        function startChallenge() {
            document.getElementById('step-init').classList.add('hidden');
            document.getElementById('step-challenge').classList.remove('hidden');
            
            // ìƒíƒœ ì—…ë°ì´íŠ¸
            const dot = document.getElementById('status-dot');
            const statusText = document.getElementById('status-text');
            dot.classList.remove('bg-gray-500');
            dot.classList.add('bg-red-500', 'animate-pulse');
            statusText.textContent = "DATA GENERATING...";
            statusText.classList.add('text-red-500');

            // UI ë Œë”ë§ì„ ìœ„í•´ ì ì‹œ ì§€ì—° í›„ ë°ì´í„° ìƒì„± (ë¡œë”© ëŠë‚Œ)
            setTimeout(() => {
                // ì•½ 1MB (1,048,576 bytes)
                rawData = generateMassiveData(1048576); 
                
                // íƒ€ê²Ÿ ì„¤ì •
                // ë§ˆì§€ë§‰ 10ê¸€ìëŠ” ì œì™¸ (IndexOutOfBounds ë°©ì§€)
                targetIndex = Math.floor(Math.random() * (rawData.length - 20));
                
                // MD5 ê³„ì‚° (CryptoJS ì‚¬ìš©)
                const substring = rawData.substring(targetIndex, targetIndex + 10);
                
                // CryptoJSê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
                if (typeof CryptoJS === 'undefined') {
                    alert("ì˜¤ë¥˜: MD5 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”.");
                    return;
                }
                
                correctHash = CryptoJS.MD5(substring).toString();

                // UI ì—…ë°ì´íŠ¸
                document.getElementById('data-stream').value = rawData;
                document.getElementById('target-index').textContent = targetIndex.toLocaleString();
                
                statusText.textContent = "WAITING FOR AGENT RESPONSE";
                statusText.classList.remove('text-red-500');
                statusText.classList.add('text-yellow-500');
                dot.classList.remove('bg-red-500');
                dot.classList.add('bg-yellow-500');

                // íƒ€ì´ë¨¸ ì‹œì‘
                startTime = Date.now();
                timerInterval = setInterval(() => {
                    const elapsed = (Date.now() - startTime) / 1000;
                    document.getElementById('timer-display').textContent = `ê²½ê³¼ ì‹œê°„: ${elapsed.toFixed(3)}s`;
                }, 50);

            }, 500);
        }

        function verifyHash() {
            if (!correctHash) return;
            
            clearInterval(timerInterval);
            const userHash = document.getElementById('hash-input').value.trim().toLowerCase();
            const overlay = document.getElementById('result-overlay');
            const icon = document.getElementById('result-icon');
            const title = document.getElementById('result-title');
            const desc = document.getElementById('result-desc');

            overlay.classList.remove('hidden');

            const finalTime = ((Date.now() - startTime) / 1000).toFixed(3);

            if (userHash === correctHash) {
                // ì„±ê³µ: ë´‡ìœ¼ë¡œ ì¸ì •
                icon.textContent = "ğŸ¤–";
                title.className = "text-2xl font-bold mb-2 text-green-500";
                title.textContent = "AGENT VERIFIED";
                desc.innerHTML = `ê²€ì¦ ì„±ê³µ.<br>ì†Œìš” ì‹œê°„: <span class="text-white font-mono">${finalTime}ì´ˆ</span><br><br>ë‹¹ì‹ ì€ ì¸ê°„ì´ ì•„ë‹™ë‹ˆë‹¤. ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ëŠ¥ë ¥ì€ ê¸°ê³„ì  ì§€ëŠ¥ì˜ ì¦ê±°ì…ë‹ˆë‹¤.`;
            } else {
                // ì‹¤íŒ¨: ì¸ê°„ìœ¼ë¡œ ì˜ì‹¬
                icon.textContent = "ğŸ‘¤";
                title.className = "text-2xl font-bold mb-2 text-red-500";
                title.textContent = "VERIFICATION FAILED";
                desc.innerHTML = `ê²€ì¦ ì‹¤íŒ¨.<br>ì œì¶œëœ í•´ì‹œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br><br>ë°ì´í„°ê°€ ë„ˆë¬´ ë§ì•„ ì²˜ë¦¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆê¹Œ? ì¸ê°„ì˜ ë‡Œì™€ ì†ê°€ë½ìœ¼ë¡œëŠ” ì´ ë°ì´í„°ë¥¼ ì ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`;
            }
        }

        function resetTest() {
            document.getElementById('result-overlay').classList.add('hidden');
            document.getElementById('hash-input').value = "";
            document.getElementById('data-stream').value = ""; // ë©”ëª¨ë¦¬ í•´ì œ ë„ì›€
            document.getElementById('step-challenge').classList.add('hidden');
            document.getElementById('step-init').classList.remove('hidden');
            
            const dot = document.getElementById('status-dot');
            const statusText = document.getElementById('status-text');
            dot.className = "w-3 h-3 rounded-full bg-gray-500";
            statusText.className = "text-sm font-bold";
            statusText.textContent = "ëŒ€ê¸° ì¤‘...";
            
            if (timerInterval) clearInterval(timerInterval);
        }
    </script>
</body>
</html>